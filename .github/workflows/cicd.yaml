# CICD using GitHub actions

name: CI/CD

# Exclude the workflow to run on changes to the helm chart
on:
   push:
      branches:
         - main
      paths-ignore:
         - 'helm/**'
         - 'k8s/**'
         - 'README.md'

jobs:

   build:
      runs-on: ubuntu-latest

      steps:
         - name: Checkout repository
           uses: actions/checkout@v4

         -  name: Set up Python 3.10
            uses: actions/setup-python@v4
            with:
               python-version: '3.10'

         -  name: Install dependencies
            run: |
               python -m pip install --upgrade pip
               if [ -f requirements.txt ]; then pip install -r requirements.txt; else pip install streamlit pytest; fi

         -  name: Run tests
            run: |
               print('pytest')
